---
title: "(4) 분산 데이터베이스 동시성 제어"
date: 2024-10-30
update: 2024-10-30
tags:
  - lock
series: "동시성 이슈 제어 기법"
---

데이터베이스가 2대 이상 있는 상황이나 NoSQL과 서로 다른 DBMS을 사용하는 상황일때, 트랜잭션 하나를 앞서 비관적락이나 낙관적락으로
해결할 수 없는 상황이 많습니다. 

이런 분산데이터베이스 혹은 분산환경에서 CAP 이론이 적용됩니다.

## CAP 이론이란

- Consistency(일관성): 모든 노드가 동일한 시점에 동일한 데이터를 볼 수 있습니다. 즉 데이터베이스 2대가 select문을 날렸을 때 같은 데이터를 보는 것입니다.
- Availability(가용성): 모든 요청에 대해 항상 응답을 제공합니다. 쿼리를 날려야하는데 DB가 죽어있어서는 안됩니다.
- Partition Tolerance(파티션 내성): 네트워크 분할이 발생하더라도 시스템이 동작합니다. 특정 네트워크가 끊겨도 다른 네트워크에서는 동작해야합니다.
- 저장소가 여러 노드일 경우 C / A / P 중 하나를 포기해야 합니다. 


### CA

- 일관성과 가용성을 보장하지만, 파티션 내성을 보장하지 않는다는 것은 불가능합니다.
- 네트워크 단절 시 일관성 보장이 불가

정리중..